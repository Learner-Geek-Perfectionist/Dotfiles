# ============================================
# Pixi 全局配置
# 完全 Rootless 的包管理器
# ============================================
# 文档: https://pixi.sh/latest/global_tools/introduction/

version = 1

# ============================================
# 基础系统工具 (Rootless 替代系统命令)
# ============================================

# zsh 有 bug，没有 VERSION 信息
# [envs.zsh]
# channels = ["conda-forge"]
# [envs.zsh.dependencies]
# zsh = "*"
# [envs.zsh.exposed]
# zsh = "zsh"

[envs.git]
channels = ["conda-forge"]
[envs.git.dependencies]
git = "*"
git-lfs = "*"
[envs.git.exposed]
git = "git"
git-lfs = "git-lfs"

[envs.curl]
channels = ["conda-forge"]
[envs.curl.dependencies]
curl = "*"
[envs.curl.exposed]
curl = "curl"

[envs.wget]
channels = ["conda-forge"]
[envs.wget.dependencies]
wget = "*"
[envs.wget.exposed]
wget = "wget"

[envs.coreutils]
channels = ["conda-forge"]
[envs.coreutils.dependencies]
coreutils = "*"
findutils = "*"
grep = "*"
sed = "*"
gawk = "*"
[envs.coreutils.exposed]
# GNU 版本，比系统自带更强大
gawk = "gawk"

# ============================================
# 编程语言运行时
# ============================================

[envs.python]
channels = ["conda-forge"]
[envs.python.dependencies]
python = "*"
pip = "*"
[envs.python.exposed]
python3 = "python" # python3 也指向 python
python = "python"
pip = "pip"

[envs.node]
channels = ["conda-forge"]
[envs.node.dependencies]
nodejs = "*"
[envs.node.exposed]
node = "node"
npm = "npm"
npx = "npx"

[envs.go]
channels = ["conda-forge"]
[envs.go.dependencies]
go = "*"
[envs.go.exposed]
go = "go"

[envs.ruby]
channels = ["conda-forge"]
[envs.ruby.dependencies]
ruby = "*"
[envs.ruby.exposed]
ruby = "ruby"
gem = "gem"

[envs.lua]
channels = ["conda-forge"]
[envs.lua.dependencies]
lua = "*"
[envs.lua.exposed]
lua = "lua"

[envs.rust]
channels = ["conda-forge"]
[envs.rust.dependencies]
rust = "*"
[envs.rust.exposed]
cargo = "cargo"
rustc = "rustc"

[envs.java]
channels = ["conda-forge"]
[envs.java.dependencies]
openjdk = "*"
[envs.java.exposed]
java = "java"
javac = "javac"

# ============================================
# 终端增强工具
# ============================================

[envs.ripgrep]
channels = ["conda-forge"]
[envs.ripgrep.dependencies]
ripgrep = "*"
[envs.ripgrep.exposed]
rg = "rg"

[envs.fd]
channels = ["conda-forge"]
[envs.fd.dependencies]
fd-find = "*"
[envs.fd.exposed]
fd = "fd"

[envs.bat]
channels = ["conda-forge"]
[envs.bat.dependencies]
bat = "*"
[envs.bat.exposed]
bat = "bat"

[envs.eza]
channels = ["conda-forge"]
[envs.eza.dependencies]
eza = "*"
[envs.eza.exposed]
eza = "eza"

[envs.fzf]
channels = ["conda-forge"]
[envs.fzf.dependencies]
fzf = "*"
[envs.fzf.exposed]
fzf = "fzf"

[envs.tree]
channels = ["conda-forge"]
[envs.tree.dependencies]
tree = "*"
[envs.tree.exposed]
tree = "tree"

[envs.dust]
channels = ["conda-forge"]
[envs.dust.dependencies]
dust = "*"
[envs.dust.exposed]
dust = "dust"

[envs.hyperfine]
channels = ["conda-forge"]
[envs.hyperfine.dependencies]
hyperfine = "*"
[envs.hyperfine.exposed]
hyperfine = "hyperfine"

[envs.fastfetch]
channels = ["conda-forge"]
[envs.fastfetch.dependencies]
fastfetch = "*"
[envs.fastfetch.exposed]
fastfetch = "fastfetch"

# ============================================
# 开发工具
# ============================================

[envs.neovim]
channels = ["conda-forge"]
[envs.neovim.dependencies]
nvim = "*"
[envs.neovim.exposed]
nvim = "nvim"

[envs.jq]
channels = ["conda-forge"]
[envs.jq.dependencies]
jq = "*"
[envs.jq.exposed]
jq = "jq"

[envs.yq]
channels = ["conda-forge"]
[envs.yq.dependencies]
yq = "*"
[envs.yq.exposed]
yq = "yq"

# ============================================
# 代码格式化
# ============================================

[envs.go-shfmt]
channels = ["conda-forge"]
[envs.go-shfmt.dependencies]
go-shfmt = "*"
[envs.go-shfmt.exposed]
shfmt = "shfmt"


[envs.ruff]
channels = ["conda-forge"]
[envs.ruff.dependencies]
ruff = "*"
[envs.ruff.exposed]
ruff = "ruff"

# ============================================
# 其他工具
# ============================================

# [envs.starship]
# channels = ["conda-forge"]
# [envs.starship.dependencies]
# starship = "*"
# [envs.starship.exposed]
# starship = "starship"

[envs.tldr]
channels = ["conda-forge"]
[envs.tldr.dependencies]
tldr = "*"
[envs.tldr.exposed]
tldr = "tldr"


[envs.go-gum]
channels = ["conda-forge"]
[envs.go-gum.dependencies]
go-gum = "*"
[envs.go-gum.exposed]
gum = "gum"

# ============================================
# 构建工具 (完全 Rootless!)
# ============================================

[envs.build-tools]
channels = ["conda-forge"]
[envs.build-tools.dependencies]
# C/C++ 编译器
cxx-compiler = "*"
c-compiler = "*"
# 构建工具
make = "*"
cmake = "*"
ninja = "*"
pkg-config = "*"
autoconf = "*"
automake = "*"
libtool = "*"
# 开发库
openssl = "*"
readline = "*"
zlib = "*"
ncurses = "*"
libffi = "*"
# libyaml = "*"

[envs.build-tools.exposed]
gcc = "gcc"
"g++" = "g++"
make = "make"
cmake = "cmake"
ninja = "ninja"
"pkg-config" = "pkg-config"
